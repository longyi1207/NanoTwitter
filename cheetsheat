### for developer usage, syntax I always forgot.
irb:
require_relative "app.rb"

automatic rerload:
rerun 'ruby app.rb'

drop db in psql:
\d users
drop database "nt_project_dev";
create database "nt_project_dev";
select * from tweets;

fix rake:


set up test db:
rake db:migrate
rake db:test:prepare

run test:
ruby test/relation_test.rb      

heroku:
heroku pg:psql
create extension pg_stat_statements;

git push -f
heroku git:remote -a cosi105nanotwitter

heroku login
heroku git:clone -a cosi105nanotwitter 
cd cosi105nanotwitter
git add .
git commit -am "update"
git push heroku main

heroku open
heroku logs
--app cosi105nanotwitter
heroku run bash -r appname
irb

git ignore modification:
git update-index --assume-unchanged config/database.yml
git update-index --no-assume-unchanged config/database.yml

sudo lsof -i :4567
kill -9 36795      
kill process:
sudo lsof -i :4567
kill -9 36795      

reset id to 1:
ALTER SEQUENCE users_id_seq RESTART WITH 1;
ALTER SEQUENCE tweets_id_seq RESTART WITH 1;
ALTER SEQUENCE likes_id_seq RESTART WITH 1;
ALTER SEQUENCE mentions_id_seq RESTART WITH 1;
ALTER SEQUENCE retweets_id_seq RESTART WITH 1;
ALTER SEQUENCE tag_tweets_id_seq RESTART WITH 1;
ALTER SEQUENCE tags_id_seq RESTART WITH 1;
ALTER SEQUENCE tweet_replies_id_seq RESTART WITH 1;
ALTER SEQUENCE user_followers_id_seq RESTART WITH 1;

redis:
redis = Redis.new()



        # <% texts.each.with_index do |t,i| %>
        #   <div class="card shadow-lg bg-dark" style="border-radius:10px; margin-top:20px; margin-bottom:20px;">
        #     <div class="card-title">
        #       <span class="glyphicon glyphicon-user"></span>
        #       <%=  users[i]%>
        #     </div>
        #     <div class="card-body">
        #     <%= t %>
        #       <div style="font-size:10px">
        #       <a href="#"> <span class="glyphicon glyphicon-comment"></span> </a>
        #       <%= retweets[i]%> rewteets
        #       <a href="#"> <span class="glyphicon glyphicon-heart"></span> </a>
        #       <%= likes[i]%> likes
        #       <%= times[i]%>
        #       </div>
        #     </div> 
        #   </div>
        # <% end %>


$('<div id="'+ JSON.stringify(data.user)+'"></div>');


        $('<div class="card shadow-lg bg-dark" style="border-radius:10px; margin-top:20px; margin-bottom:20px;">
              <div class="card-title">
                <span class="glyphicon glyphicon-user"></span>'
                + data.user+
              '</div>
              <div class="card-body">'+
              data.text+
                '<div style="font-size:10px">
                <a href="#"> <span class="glyphicon glyphicon-comment"></span> </a>'
                +data.retweet+' rewteets
                <a href="#"> <span class="glyphicon glyphicon-heart"></span> </a>'
                +data.like+' likes'
                +data.time+'
                </div>
              </div> 
            </div>');


                    var texts = [];
        var likes = [];
        var retweets = []; 
        var times = []; 
        var users = [];


                  # texts.push(JSON.stringify(data.text));
          # likes.push(JSON.stringify(data.like));
          # users.push(JSON.stringify(data.user));
          # retweets.push(JSON.stringify(data.retweet));
          # times.push(JSON.stringify(data.time));